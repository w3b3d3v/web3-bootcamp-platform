# Story SEO-001.4: Page Meta Enhancement

**Epic:** SEO-001 - SEO & AEO Enhancement
**Story ID:** SEO-001.4
**Priority:** High
**Estimated Effort:** 1 day
**Status:** Done

---

## User Story

**As a** user discovering the platform through search or social media
**I want** rich, informative page previews
**So that** I can quickly understand the page content before clicking

---

## Background

Current meta tag implementation is:
- ✅ Basic Open Graph tags exist
- ❌ Missing canonical URLs on most pages
- ❌ Meta descriptions not optimized for SEO/AI
- ❌ No og:image on many pages
- ❌ Inconsistent title formats

This story enhances all pages with:
- Canonical URLs to prevent duplicate content issues
- SEO-optimized meta descriptions (150-160 chars)
- High-quality Open Graph images
- Consistent title templates
- Enhanced social media previews

---

## Pages to Enhance

### Priority 1 (Critical)
1. **Homepage** (`pages/index.js`)
2. **Course Pages** (`pages/courses/[id].js`)
3. **Courses Listing** (`pages/courses/index.js`)

### Priority 2 (High)
4. **Profile Pages** (`pages/profile/index.js`)
5. **Study Groups** (`pages/study-groups/[id].js`)

### Priority 3 (Medium - Optional)
6. **Course Sections** (if individually accessible)
7. **About/FAQ** pages (if created)

---

## Technical Requirements

### 1. Canonical URLs

**Implementation:** Add to all pages using SEOHead component

```jsx
<SEOHead
  canonical="/current-page-path"
  // ... other props
/>
```

**Rules:**
- Always use **relative paths** (component adds domain)
- **Trailing slash consistency:** No trailing slashes (e.g., `/courses` not `/courses/`)
- **Query parameters:** Exclude from canonical (canonical ignores `?utm_source=...`)
- **Dynamic pages:** Use clean path (e.g., `/courses/solidity-101`)

---

### 2. Meta Descriptions

**Guidelines:**
- **Length:** 150-160 characters (strict)
- **Keyword placement:** Primary keyword in first 100 chars
- **AI-friendly:** Natural language, not keyword stuffing
- **Actionable:** Include CTA where appropriate
- **Unique:** Every page has unique description

**Examples:**

```javascript
// Homepage
description: "Join WEB3DEV bootcamp to learn blockchain, smart contracts, and Web3 technologies. Free courses in Portuguese with NFT certificates. Start your Web3 journey today!"

// Course Page (Solidity)
description: "Learn Solidity smart contract development with hands-on projects. Build, deploy, and test your first smart contract on Ethereum. Free course with NFT certificate."

// Courses Listing
description: "Browse all Web3DEV bootcamp courses. Learn smart contracts, NFTs, DeFi, and blockchain development with hands-on projects and NFT certificates."

// Profile Page
description: "Track your progress in WEB3DEV bootcamp. View completed courses, earned NFT certificates, and join the Web3 developer community."
```

---

### 3. Open Graph Images

**Requirements:**
- **Dimensions:** 1200x630px (2:1 ratio)
- **Format:** PNG or JPG
- **Size:** < 1MB
- **Content:** Course-specific or branded default

**Image Strategy:**

```javascript
// Default OG image (if course has no image)
const defaultOgImage = 'https://build.w3d.community/og-default.png';

// Course-specific OG image
const courseOgImage = course.image_url || defaultOgImage;

// Homepage OG image
const homeOgImage = 'https://build.w3d.community/og-home.png';
```

**Action Items:**
- Create default OG image (1200x630px)
- Create homepage OG image (1200x630px)
- Ensure all course images meet OG dimensions or create fallback
- Store images in `public/og/` directory

---

### 4. Title Templates

**Format:** `{Page Title} | WEB3DEV Bootcamp`

**Examples:**
```javascript
// Homepage
"Web3 Bootcamp - Learn Blockchain Development | WEB3DEV"

// Course page
"Solidity Smart Contract Development | WEB3DEV Bootcamp"

// Courses listing
"All Courses | WEB3DEV Bootcamp"

// Profile
"My Profile | WEB3DEV Bootcamp"
```

**Rules:**
- Max length: 60 characters (including branding)
- Primary keyword first
- Branding last (handled by SEOHead component)

---

## Implementation by Page

### Homepage (`pages/index.js`)

```jsx
import SEOHead from '../components/SEO';
import { buildOrganizationSchema } from '../components/SEO/schemas';

export default function Home({ course }) {
  return (
    <>
      <SEOHead
        title="Web3 Bootcamp - Learn Blockchain Development"
        description="Join WEB3DEV bootcamp to learn blockchain, smart contracts, and Web3 technologies. Free courses in Portuguese with NFT certificates. Start your Web3 journey today!"
        canonical="/"
        keywords={[
          'web3', 'blockchain', 'bootcamp', 'smart contracts', 'NFT',
          'Solidity', 'DeFi', 'curso blockchain', 'web3 gratis', 'ethereum'
        ]}
        ogImage="https://build.w3d.community/og-home.png"
        ogImageAlt="WEB3DEV Bootcamp - Free Web3 and Blockchain Courses"
        jsonLd={buildOrganizationSchema()}
      />
      {/* Existing content */}
    </>
  );
}
```

---

### Course Page (`pages/courses/[id].js`)

```jsx
import SEOHead from '../../components/SEO';
import {
  buildCourseSchema,
  buildBreadcrumbSchema,
  buildOrganizationSchema
} from '../../components/SEO/schemas';

export default function CoursePage({ course }) {
  // Generate SEO-friendly description
  const description = course.shortDescription ||
    `Learn ${course.name} with hands-on projects. ${course.description.substring(0, 100)}... Free course with NFT certificate.`;

  // Course-specific keywords
  const keywords = [
    course.name,
    ...(course.tags || []),
    'web3 course',
    'blockchain tutorial',
    'NFT certificate',
    'free course',
  ];

  const schemas = [
    buildCourseSchema(course),
    buildBreadcrumbSchema([
      { name: 'Home', url: 'https://build.w3d.community' },
      { name: 'Courses', url: 'https://build.w3d.community/courses' },
      { name: course.name, url: `https://build.w3d.community/courses/${course.id}` },
    ]),
  ];

  return (
    <>
      <SEOHead
        title={course.name}
        description={description}
        canonical={`/courses/${course.id}`}
        keywords={keywords}
        ogType="article"
        ogImage={course.image_url || 'https://build.w3d.community/og-course-default.png'}
        ogImageAlt={`${course.name} - WEB3DEV Bootcamp Course`}
        jsonLd={schemas}
      />
      {/* Existing content */}
    </>
  );
}
```

---

### Courses Listing (`pages/courses/index.js`)

```jsx
import SEOHead from '../../components/SEO';
import { buildBreadcrumbSchema } from '../../components/SEO/schemas';

export default function Courses({ allCourses }) {
  return (
    <>
      <SEOHead
        title="All Courses - Web3 Bootcamp"
        description="Browse all Web3DEV bootcamp courses. Learn smart contracts, NFTs, DeFi, and blockchain development with hands-on projects and NFT certificates."
        canonical="/courses"
        keywords={[
          'web3 courses', 'blockchain courses', 'smart contract training',
          'NFT development', 'DeFi courses', 'ethereum courses'
        ]}
        ogImage="https://build.w3d.community/og-courses.png"
        jsonLd={buildBreadcrumbSchema([
          { name: 'Home', url: 'https://build.w3d.community' },
          { name: 'Courses', url: 'https://build.w3d.community/courses' },
        ])}
      />
      {/* Existing content */}
    </>
  );
}
```

---

### Profile Page (`pages/profile/index.js`)

```jsx
import SEOHead from '../../components/SEO';

export default function ProfilePage({ user }) {
  return (
    <>
      <SEOHead
        title="My Profile"
        description="Track your progress in WEB3DEV bootcamp. View completed courses, earned NFT certificates, and join the Web3 developer community."
        canonical="/profile"
        noindex={true} // Private pages should not be indexed
        ogImage="https://build.w3d.community/og-profile.png"
      />
      {/* Existing content */}
    </>
  );
}
```

---

## OG Image Creation

### Required Images

Create the following images in `public/og/`:

1. **og-home.png** (1200x630px)
   - WEB3DEV logo
   - Tagline: "Free Web3 Bootcamp with NFT Certificates"
   - Visual: Blockchain/Web3 graphics

2. **og-course-default.png** (1200x630px)
   - WEB3DEV logo
   - Text: "Web3 Bootcamp Course"
   - Generic blockchain visual

3. **og-courses.png** (1200x630px)
   - WEB3DEV logo
   - Text: "Browse All Courses"
   - Course grid visual

4. **og-profile.png** (1200x630px)
   - WEB3DEV logo
   - Text: "Your Web3 Journey"
   - Profile/progress visual

### Image Template (Figma/Canva)

```
┌──────────────────────────────────────────┐
│  [WEB3DEV Logo]                          │
│                                          │
│  Free Web3 Bootcamp                      │
│  Learn Blockchain Development            │
│                                          │
│  [Blockchain Visual]                     │
│                                          │
│  build.w3d.community                     │
└──────────────────────────────────────────┘
Size: 1200x630px
```

---

## Acceptance Criteria

### Homepage
- [ ] Title: "Web3 Bootcamp - Learn Blockchain Development | WEB3DEV"
- [ ] Description: 150-160 chars, includes "NFT certificates"
- [ ] Canonical: "/"
- [ ] OG image: og-home.png (1200x630px)
- [ ] Keywords: 10+ relevant keywords

### Course Pages
- [ ] Title: "{Course Name} | WEB3DEV Bootcamp"
- [ ] Description: Unique per course, 150-160 chars
- [ ] Canonical: "/courses/{id}"
- [ ] OG image: Course-specific or default
- [ ] Keywords: Course-specific + generic web3 keywords

### Courses Listing
- [ ] Title: "All Courses | WEB3DEV Bootcamp"
- [ ] Description: 150-160 chars
- [ ] Canonical: "/courses"
- [ ] OG image: og-courses.png

### Profile Page
- [ ] Title: "My Profile | WEB3DEV Bootcamp"
- [ ] Description: 150-160 chars
- [ ] Canonical: "/profile"
- [ ] noindex: true (private page)

### OG Images
- [ ] All OG images created (1200x630px)
- [ ] All OG images < 1MB file size
- [ ] All OG images include branding
- [ ] Fallback image exists for courses without images

### Validation
- [ ] All pages have unique titles
- [ ] All pages have unique descriptions
- [ ] All pages have canonical URLs
- [ ] All OG images display correctly in Facebook Debugger
- [ ] All OG images display correctly in Twitter Card Validator

---

## Testing Instructions

### Manual Testing

1. **Test with Facebook Debugger:**
   - Go to: https://developers.facebook.com/tools/debug/
   - Enter page URL
   - Click "Scrape Again"
   - Verify image, title, description appear correctly

2. **Test with Twitter Card Validator:**
   - Go to: https://cards-dev.twitter.com/validator
   - Enter page URL
   - Verify card preview looks good

3. **Test with LinkedIn Post Inspector:**
   - Go to: https://www.linkedin.com/post-inspector/
   - Enter page URL
   - Verify preview

4. **View Page Source:**
   - Check canonical link tag exists
   - Check meta description length (150-160 chars)
   - Check OG image URL is absolute

### Automated Checks

```bash
# Check meta description length
curl -s https://build.w3d.community/ | grep "meta name=\"description\"" | wc -c
# Should be ~150-160 characters

# Check canonical URL
curl -s https://build.w3d.community/courses/solidity-101 | grep "canonical"
# Should show: <link rel="canonical" href="https://build.w3d.community/courses/solidity-101"/>
```

---

## Definition of Done

- [ ] All priority 1 pages enhanced with SEOHead
- [ ] All pages have canonical URLs
- [ ] All meta descriptions 150-160 chars
- [ ] All OG images created and optimized
- [ ] All pages tested with social media debuggers
- [ ] Code reviewed
- [ ] Deployed to production
- [ ] Verified with curl/manual testing

---

## Related Stories

- **SEO-001.1:** SEO Component Infrastructure (uses SEOHead component)
- **SEO-001.2:** Static SEO Files (canonical URLs reference sitemap)
- **SEO-001.3:** Course Structured Data (complements meta tags)

---

## References

- **AEO Checklist:** `.bmad-core/checklists/aeo-optimization.md` (Section 6)
- **Open Graph Protocol:** https://ogp.me/
- **Twitter Cards:** https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/abouts-cards
- **Google Title Best Practices:** https://developers.google.com/search/docs/appearance/title-link
- **Meta Description Best Practices:** https://developers.google.com/search/docs/appearance/snippet

---

**Created:** 2026-02-16
**Status:** Done
**Assigned To:** BMad
